/*
 jCanvas v14.03.27
 Copyright 2014 Caleb Evans
 Released under the MIT license
*/
(function(f,wa,xa,Ua,da,fa,na,n,w,h,k){function K(d){var c;if(L.future.inheritance)for(c in d)d.hasOwnProperty(c)&&(this[c]=d[c]);else X(this,d)}function L(d){var c;if(d)X(aa,d);else for(c in aa)aa.hasOwnProperty(c)&&delete aa[c];na&&na.warn&&!ya.jCanvas&&(ya.jCanvas=n,na.warn("The jCanvas() method has been deprecated and will be removed in a future release."));return this}function za(){}function ka(d){return"string"===ba(d)}function H(d){return d&&d.getContext?d.getContext("2d"):h}function la(d){d=
X({},d);d.masks=d.masks.slice(0);return d}function ga(d,c){var a;d.save();a=la(c.transforms);c.savedTransforms.push(a)}function Aa(d,c,a,b){a[b]&&(ea(a[b])?c[b]=a[b].call(d,a):c[b]=a[b])}function S(d,c,a){Aa(d,c,a,"fillStyle");Aa(d,c,a,"strokeStyle");c.lineWidth=a.strokeWidth;a.rounded?c.lineCap=c.lineJoin="round":(c.lineCap=a.strokeCap,c.lineJoin=a.strokeJoin,c.miterLimit=a.miterLimit);a.strokeDash&&(c.setLineDash(a.strokeDash),c.webkitLineDash=c.mozDash=a.strokeDash,c.lineDashOffset=c.webkitLineDashOffset=
c.mozDashOffset=a.strokeDashOffset);c.shadowOffsetX=a.shadowX;c.shadowOffsetY=a.shadowY;c.shadowBlur=a.shadowBlur;c.shadowColor=a.shadowColor;c.globalAlpha=a.opacity;c.globalCompositeOperation=a.compositing;a.imageSmoothing&&(c.webkitImageSmoothingEnabled=c.mozImageSmoothingEnabled=a.imageSmoothing)}function Ba(d,c,a){a.mask&&(a.autosave&&ga(d,c),d.clip(),c.transforms.masks.push(a._args))}function Y(d,c,a){a.closed&&c.closePath();a.shadowStroke&&0!==a.strokeWidth?(c.stroke(),c.fill(),c.shadowColor=
"transparent",c.shadowBlur=0,c.stroke()):(c.fill(),"transparent"!==a.fillStyle&&(c.shadowColor="transparent"),0!==a.strokeWidth&&c.stroke());a.closed||c.closePath();a._transformed&&c.restore();a.mask&&(d=E(d),Ba(c,d,a))}function R(d,c,a,b,g){a._toRad=a.inDegrees?C/180:1;a._transformed=n;c.save();a.fromCenter||a._centered||b===k||(g===k&&(g=b),a.x+=b/2,a.y+=g/2,a._centered=n);a.rotate&&Ca(c,a,h);1===a.scale&&1===a.scaleX&&1===a.scaleY||Da(c,a,h);(a.translate||a.translateX||a.translateY)&&Ea(c,a,h)}
function E(d){var c=ca.dataCache,a;c._canvas===d&&c._data?a=c._data:(a=f.data(d,"jCanvas"),a||(a={canvas:d,layers:[],layer:{names:{},groups:{}},eventHooks:{},intersecting:[],lastIntersected:h,cursor:f(d).css("cursor"),drag:{layer:h,dragging:w},event:{type:h,x:h,y:h},events:{},transforms:la(oa),savedTransforms:[],animating:w,animated:h,pixelRatio:1,scaled:w},f.data(d,"jCanvas",a)),c._canvas=d,c._data=a);return a}function Fa(d,c,a){for(var b in L.events)L.events.hasOwnProperty(b)&&(a[b]||a.cursors&&
a.cursors[b])&&Ga(d,c,a,b)}function Ga(d,c,a,b){window.ontouchstart!==k&&Z.touchEvents[b]&&(b=Z.touchEvents[b]);L.events[b](d,c);a._event=n}function Ha(d,c,a){var b,g,e;if(a.draggable||a.cursors){b=["mousedown","mousemove","mouseup"];for(e=0;e<b.length;e+=1)g=b[e],Ga(d,c,a,g);c.events.mouseoutdrag||(d.bind("mouseout.jCanvas",function(){var a=c.drag.layer;a&&(c.drag={},O(d,c,a,"dragcancel"),d.drawLayers())}),c.events.mouseoutdrag=n);a._event=n}}function pa(d,c,a,b){d=c.layer.names;b?b.name!==k&&ka(a.name)&&
a.name!==b.name&&delete d[a.name]:b=a;ka(b.name)&&(d[b.name]=a)}function qa(d,c,a,b){d=c.layer.groups;var g,e,l,f;if(!b)b=a;else if(b.groups!==k&&a.groups!==h)for(e=0;e<a.groups.length;e+=1)if(g=a.groups[e],c=d[g]){for(f=0;f<c.length;f+=1)if(c[f]===a){l=f;c.splice(f,1);break}0===c.length&&delete d[g]}if(b.groups!==k&&b.groups!==h)for(e=0;e<b.groups.length;e+=1)g=b.groups[e],c=d[g],c||(c=d[g]=[],c.name=g),l===k&&(l=c.length),c.splice(l,0,a)}function ra(d,c,a,b,g){b[a]&&c._running&&!c._running[a]&&
(c._running[a]=n,b[a].call(d[0],c,g),c._running[a]=w)}function O(d,c,a,b,g){if(!a.disableEvents){if("mouseout"!==b){var e;a.cursors&&(e=a.cursors[b]);-1!==f.inArray(e,W.cursors)&&(e=W.prefix+e);e&&d.css({cursor:e})}ra(d,a,b,a,g);ra(d,a,b,c.eventHooks,g);ra(d,a,b,L.eventHooks,g)}}function N(d,c,a,b){var g,e=c._layer?a:c;c._args=a;if(c.draggable||c.dragGroups)c.layer=n,c.draggable=n;c._method=b?b:c.method?f.fn[c.method]:c.type?f.fn[Z.drawings[c.type]]:function(){};c.layer&&!c._layer&&(a=f(d),b=E(d),
g=b.layers,e.name===h||ka(e.name)&&b.layer.names[e.name]===k)&&(e=new K(c),e.canvas=d,e.$canvas=f(d),e.layer=n,e._layer=n,e._running={},e.data=e.data!==h?X({},e.data):{},e.groups=e.groups!==h?e.groups.slice(0):[],pa(a,b,e),qa(a,b,e),Fa(a,b,e),Ha(a,b,e),c._event=e._event,e._method===f.fn.drawText&&a.measureText(e),e.index===h&&(e.index=g.length),g.splice(e.index,0,e),c._args=e,O(a,b,e,"add"));return e}function Ia(d,c){var a,b;for(b=0;b<W.props.length;b+=1)a=W.props[b],d[a]!==k&&(d["_"+a]=d[a],W.propsObj[a]=
n,c&&delete d[a])}function Va(d,c,a){var b,g,e,l;for(b in a)if(a.hasOwnProperty(b)&&(g=a[b],ea(g)&&(a[b]=g.call(d,c,b)),"object"===ba(g))){for(e in g)g.hasOwnProperty(e)&&(l=g[e],c[b]!==k&&(c[b+"."+e]=c[b][e],a[b+"."+e]=l));delete a[b]}return a}function Ja(d){var c,a,b=[],g=1;d.match(/^([a-z]+|#[0-9a-f]+)$/gi)&&("transparent"===d&&(d="rgba(0,0,0,0)"),a=wa.head,c=a.style.color,a.style.color=d,d=f.css(a,"color"),a.style.color=c);d.match(/^rgb/gi)&&(b=d.match(/(\d+(\.\d+)?)/gi),d.match(/%/gi)&&(g=2.55),
b[0]*=g,b[1]*=g,b[2]*=g,b[3]=b[3]!==k?fa(b[3]):1);return b}function Wa(d){var c=3,a;"array"!==ba(d.start)&&(d.start=Ja(d.start),d.end=Ja(d.end));d.now=[];if(1!==d.start[3]||1!==d.end[3])c=4;for(a=0;a<c;a+=1)d.now[a]=d.start[a]+(d.end[a]-d.start[a])*d.pos,3>a&&(d.now[a]=Xa(d.now[a]));1!==d.start[3]||1!==d.end[3]?d.now="rgba("+d.now.join(",")+")":(d.now.slice(0,3),d.now="rgb("+d.now.join(",")+")");d.elem.nodeName?d.elem.style[d.prop]=d.now:d.elem[d.prop]=d.now}function Ya(d){L.events[d]=function(c,
a){var b,g;g=a.event;b="mouseover"===d||"mouseout"===d?"mousemove":d;a.events[b]||(c.bind(b+".jCanvas",function(a){g.x=a.offsetX;g.y=a.offsetY;g.type=b;g.event=a;c.drawLayers({resetFire:n});a.preventDefault()}),a.events[b]=n)}}function T(d,c,a){var b,g,e,l;if(a=a._args)d=E(d),b=d.event,b.x!==h&&b.y!==h&&(e=b.x*d.pixelRatio,l=b.y*d.pixelRatio,g=c.isPointInPath(e,l)||c.isPointInStroke&&c.isPointInStroke(e,l)),c=d.transforms,a.eventX=a.mouseX=b.x,a.eventY=a.mouseY=b.y,a.event=b.event,b=d.transforms.rotate,
e=a.eventX,l=a.eventY,0!==b?(a._eventX=e*P(-b)-l*U(-b),a._eventY=l*P(-b)+e*U(-b)):(a._eventX=e,a._eventY=l),a._eventX/=c.scaleX,a._eventY/=c.scaleY,g&&d.intersecting.push(a),a.intersects=g}function Ca(d,c,a){c._toRad=c.inDegrees?C/180:1;d.translate(c.x,c.y);d.rotate(c.rotate*c._toRad);d.translate(-c.x,-c.y);a&&(a.rotate+=c.rotate*c._toRad)}function Da(d,c,a){1!==c.scale&&(c.scaleX=c.scaleY=c.scale);d.translate(c.x,c.y);d.scale(c.scaleX,c.scaleY);d.translate(-c.x,-c.y);a&&(a.scaleX*=c.scaleX,a.scaleY*=
c.scaleY)}function Ea(d,c,a){c.translate&&(c.translateX=c.translateY=c.translate);d.translate(c.translateX,c.translateY);a&&(a.translateX+=c.translateX,a.translateY+=c.translateY)}function Ka(d){for(;0>d;)d+=2*C;return d}function La(d,c,a,b){var g,e,l,f,A,t,h;a===b?h=t=0:(t=a.x,h=a.y);b.inDegrees||360!==b.end||(b.end=2*C);b.start*=a._toRad;b.end*=a._toRad;b.start-=C/2;b.end-=C/2;A=C/180*1;b.ccw&&(A*=-1);g=b.x+b.radius*P(b.start+A);e=b.y+b.radius*U(b.start+A);l=b.x+b.radius*P(b.start);f=b.y+b.radius*
U(b.start);ha(d,c,a,b,g,e,l,f);c.arc(b.x+t,b.y+h,b.radius,b.start,b.end,b.ccw);g=b.x+b.radius*P(b.end+A);A=b.y+b.radius*U(b.end+A);e=b.x+b.radius*P(b.end);l=b.y+b.radius*U(b.end);ia(d,c,a,b,e,l,g,A)}function Ma(d,c,a,b,g,e,l,f){var A,t;b.arrowRadius&&!a.closed&&(t=Za(f-e,l-g),t-=C,d=a.strokeWidth*P(t),A=a.strokeWidth*U(t),a=l+b.arrowRadius*P(t+b.arrowAngle/2),g=f+b.arrowRadius*U(t+b.arrowAngle/2),e=l+b.arrowRadius*P(t-b.arrowAngle/2),b=f+b.arrowRadius*U(t-b.arrowAngle/2),c.moveTo(a-d,g-A),c.lineTo(l-
d,f-A),c.lineTo(e-d,b-A),c.moveTo(l-d,f-A),c.lineTo(l+d,f+A),c.moveTo(l,f))}function ha(d,c,a,b,g,e,l,f){b._arrowAngleConverted||(b.arrowAngle*=a._toRad,b._arrowAngleConverted=n);b.startArrow&&Ma(d,c,a,b,g,e,l,f)}function ia(d,c,a,b,g,e,l,f){b._arrowAngleConverted||(b.arrowAngle*=a._toRad,b._arrowAngleConverted=n);b.endArrow&&Ma(d,c,a,b,g,e,l,f)}function Na(d,c,a,b){var g,e,l;g=2;ha(d,c,a,b,b.x2+a.x,b.y2+a.y,b.x1+a.x,b.y1+a.y);for(b.x1!==k&&b.y1!==k&&c.moveTo(b.x1+a.x,b.y1+a.y);n;)if(e=b["x"+g],l=
b["y"+g],e!==k&&l!==k)c.lineTo(e+a.x,l+a.y),g+=1;else break;g-=1;ia(d,c,a,b,b["x"+(g-1)]+a.x,b["y"+(g-1)]+a.y,b["x"+g]+a.x,b["y"+g]+a.y)}function Oa(d,c,a,b){var g,e,l,f,A;g=2;ha(d,c,a,b,b.cx1+a.x,b.cy1+a.y,b.x1+a.x,b.y1+a.y);for(b.x1!==k&&b.y1!==k&&c.moveTo(b.x1+a.x,b.y1+a.y);n;)if(e=b["x"+g],l=b["y"+g],f=b["cx"+(g-1)],A=b["cy"+(g-1)],e!==k&&l!==k&&f!==k&&A!==k)c.quadraticCurveTo(f+a.x,A+a.y,e+a.x,l+a.y),g+=1;else break;g-=1;ia(d,c,a,b,b["cx"+(g-1)]+a.x,b["cy"+(g-1)]+a.y,b["x"+g]+a.x,b["y"+g]+a.y)}
function Pa(d,c,a,b){var g,e,l,f,A,t,h,J;g=2;e=1;ha(d,c,a,b,b.cx1+a.x,b.cy1+a.y,b.x1+a.x,b.y1+a.y);for(b.x1!==k&&b.y1!==k&&c.moveTo(b.x1+a.x,b.y1+a.y);n;)if(l=b["x"+g],f=b["y"+g],A=b["cx"+e],t=b["cy"+e],h=b["cx"+(e+1)],J=b["cy"+(e+1)],l!==k&&f!==k&&A!==k&&t!==k&&h!==k&&J!==k)c.bezierCurveTo(A+a.x,t+a.y,h+a.x,J+a.y,l+a.x,f+a.y),g+=1,e+=2;else break;g-=1;e-=2;ia(d,c,a,b,b["cx"+(e+1)]+a.x,b["cy"+(e+1)]+a.y,b["x"+g]+a.x,b["y"+g]+a.y)}function Qa(d,c,a){c*=d._toRad;c-=C/2;return a*P(c)}function Ra(d,c,
a){c*=d._toRad;c-=C/2;return a*U(c)}function Sa(d,c,a,b){var g,e,l,f,h,t,$;a===b?h=f=0:(f=a.x,h=a.y);g=1;e=f=t=b.x+f;l=h=$=b.y+h;ha(d,c,a,b,e+Qa(a,b.a1,b.l1),l+Ra(a,b.a1,b.l1),e,l);for(b.x!==k&&b.y!==k&&c.moveTo(e,l);n;)if(e=b["a"+g],l=b["l"+g],e!==k&&l!==k)f=t,h=$,t+=Qa(a,e,l),$+=Ra(a,e,l),c.lineTo(t,$),g+=1;else break;ia(d,c,a,b,f,h,t,$)}function sa(d,c,a){isNaN(Number(a.fontSize))||(a.fontSize+="px");c.font=a.fontStyle+" "+a.fontSize+" "+a.fontFamily}function ta(d,c,a,b){var g,e;g=ca.propCache;
if(g.text===a.text&&g.fontStyle===a.fontStyle&&g.fontSize===a.fontSize&&g.fontFamily===a.fontFamily&&g.maxWidth===a.maxWidth&&g.lineHeight===a.lineHeight)a.width=g.width,a.height=g.height;else{a.width=c.measureText(b[0]).width;for(e=1;e<b.length;e+=1)g=c.measureText(b[e]).width,g>a.width&&(a.width=g);c=d.style.fontSize;d.style.fontSize=a.fontSize;a.height=fa(f.css(d,"fontSize"))*b.length*a.lineHeight;d.style.fontSize=c}}function Ta(d,c){var a=c.maxWidth,b=c.text.split("\n"),g=[],e,l,f,h,t;for(f=0;f<
b.length;f+=1){h=b[f];t=h.split(" ");e=[];l="";if(1===t.length||d.measureText(h).width<a)e=[h];else{for(h=0;h<t.length;h+=1)d.measureText(l+t[h]).width>a&&(""!==l&&e.push(l),l=""),l+=t[h],h!==t.length-1&&(l+=" ");e.push(l)}g=g.concat(e.join("\n").replace(/( (\n))|( $)/gi,"$2").split("\n"))}return g}var ma,aa,X=f.extend,ja=f.inArray,ba=f.type,ea=f.isFunction,C=da.PI,Xa=da.round,$a=da.abs,U=da.sin,P=da.cos,Za=da.atan2,ua=Ua.prototype.slice,ab=f.event.fix,Z={},ca={dataCache:{},propCache:{},imageCache:{}},
oa={rotate:0,scaleX:1,scaleY:1,translateX:0,translateY:0,masks:[]},ya={jCanvas:w},W={};f.fn.jCanvas=L;L.events={};L.eventHooks={};L.future={inheritance:!1};ma=new function(){X(this,{align:"center",arrowAngle:90,arrowRadius:0,autosave:n,baseline:"middle",bringToFront:w,ccw:w,closed:w,compositing:"source-over",concavity:0,cornerRadius:0,count:1,cropFromCenter:n,crossOrigin:"",cursors:h,disableEvents:w,draggable:w,dragGroups:h,groups:h,data:h,dx:h,dy:h,end:360,eventX:h,eventY:h,fillStyle:"transparent",
fontStyle:"normal",fontSize:"12pt",fontFamily:"sans-serif",fromCenter:n,height:h,imageSmoothing:n,inDegrees:n,index:h,lineHeight:1,layer:w,mask:w,maxWidth:h,miterLimit:10,name:h,opacity:1,r1:h,r2:h,radius:0,repeat:"repeat",respectAlign:w,rotate:0,rounded:w,scale:1,scaleX:1,scaleY:1,shadowBlur:0,shadowColor:"transparent",shadowStroke:w,shadowX:0,shadowY:0,sHeight:h,sides:0,source:"",letterSpacing:h,spread:0,start:0,strokeCap:"butt",strokeDash:h,strokeDashOffset:0,strokeJoin:"miter",strokeStyle:"transparent",
strokeWidth:1,sWidth:h,sx:h,sy:h,text:"",translate:0,translateX:0,translateY:0,type:h,visible:n,width:h,x:0,y:0})};za.prototype=ma;aa=new za;K.prototype=aa;L.extend=function(d){d.name&&(d.props&&X(ma,d.props),f.fn[d.name]=function a(b){var g,e,l,f;for(e=0;e<this.length;e+=1)if(g=this[e],l=H(g))f=new K(b),N(g,f,b,a),S(g,l,f),d.fn.call(g,l,f);return this},d.type&&(Z.drawings[d.type]=d.name));return f.fn[d.name]};f.fn.getEventHooks=function(){var d;d={};0!==this.length&&(d=this[0],d=E(d),d=d.eventHooks);
return d};f.fn.setEventHooks=function(d){var c,a;for(c=0;c<this.length;c+=1)f(this[c]),a=E(this[c]),X(a.eventHooks,d);return this};f.fn.getLayers=function(d){var c,a,b,g,e=[];if(0!==this.length)if(c=this[0],a=E(c),a=a.layers,ea(d))for(g=0;g<a.length;g+=1)b=a[g],d.call(c,b)&&e.push(b);else e=a;return e};f.fn.getLayer=function(d){var c,a,b,g;if(0!==this.length)if(c=this[0],a=E(c),c=a.layers,g=ba(d),d&&d.layer)b=d;else if("number"===g)0>d&&(d=c.length+d),b=c[d];else if("regexp"===g)for(a=0;a<c.length;a+=
1){if(ka(c[a].name)&&c[a].name.match(d)){b=c[a];break}}else b=a.layer.names[d];return b};f.fn.getLayerGroup=function(d){var c,a,b,g=ba(d);if(0!==this.length)if(c=this[0],"array"===g)b=d;else if("regexp"===g)for(a in c=E(c),c=c.layer.groups,c){if(a.match(d)){b=c[a];break}}else c=E(c),b=c.layer.groups[d];return b};f.fn.getLayerIndex=function(d){var c=this.getLayers();d=this.getLayer(d);return ja(d,c)};f.fn.setLayer=function(d,c){var a,b,g,e,l,h,A;for(b=0;b<this.length;b+=1)if(a=f(this[b]),g=E(this[b]),
e=f(this[b]).getLayer(d)){pa(a,g,e,c);qa(a,g,e,c);for(l in c)c.hasOwnProperty(l)&&(h=c[l],A=ba(h),"object"===A?e[l]=X({},h):"array"===A?e[l]=h.slice(0):"string"===A?0===h.indexOf("+=")?e[l]+=fa(h.substr(2)):0===h.indexOf("-=")?e[l]-=fa(h.substr(2)):e[l]=h:e[l]=h);Fa(a,g,e);Ha(a,g,e);f.isEmptyObject(c)===w&&O(a,g,e,"change",c)}return this};f.fn.setLayers=function(d,c){var a,b,g,e;for(b=0;b<this.length;b+=1)for(a=f(this[b]),g=a.getLayers(c),e=0;e<g.length;e+=1)a.setLayer(g[e],d);return this};f.fn.setLayerGroup=
function(d,c){var a,b,g,e;for(b=0;b<this.length;b+=1)if(a=f(this[b]),g=a.getLayerGroup(d))for(e=0;e<g.length;e+=1)a.setLayer(g[e],c);return this};f.fn.moveLayer=function(d,c){var a,b,g,e,l;for(b=0;b<this.length;b+=1)if(a=f(this[b]),g=E(this[b]),e=g.layers,l=a.getLayer(d))l.index=ja(l,e),e.splice(l.index,1),e.splice(c,0,l),0>c&&(c=e.length+c),l.index=c,O(a,g,l,"move");return this};f.fn.removeLayer=function(d){var c,a,b,g,e;for(a=0;a<this.length;a+=1)if(c=f(this[a]),b=E(this[a]),g=c.getLayers(),e=c.getLayer(d))e.index=
ja(e,g),g.splice(e.index,1),pa(c,b,e,{name:h}),qa(c,b,e,{groups:h}),O(c,b,e,"remove");return this};f.fn.removeLayers=function(d){var c,a,b,g,e,l;for(a=0;a<this.length;a+=1){c=f(this[a]);b=E(this[a]);g=c.getLayers(d);for(l=0;l<g.length;l+=1)e=g[l],c.removeLayer(e),l-=1;b.layer.names={};b.layer.groups={}}return this};f.fn.removeLayerGroup=function(d){var c,a,b,g;if(d!==k)for(a=0;a<this.length;a+=1)if(c=f(this[a]),E(this[a]),c.getLayers(),b=c.getLayerGroup(d))for(b=b.slice(0),g=0;g<b.length;g+=1)c.removeLayer(b[g]);
return this};f.fn.addLayerToGroup=function(d,c){var a,b,g,e=[c];for(b=0;b<this.length;b+=1)a=f(this[b]),g=a.getLayer(d),g.groups&&(e=g.groups.slice(0),-1===ja(c,g.groups)&&e.push(c)),a.setLayer(g,{groups:e});return this};f.fn.removeLayerFromGroup=function(d,c){var a,b,g,e=[],l;for(b=0;b<this.length;b+=1)a=f(this[b]),g=a.getLayer(d),g.groups&&(l=ja(c,g.groups),-1!==l&&(e=g.groups.slice(0),e.splice(l,1),a.setLayer(g,{groups:e})));return this};W.cursors=["grab","grabbing","zoom-in","zoom-out"];W.prefix=
function(){var d=getComputedStyle(wa.documentElement,"");return"-"+(ua.call(d).join("").match(/-(moz|webkit|ms)-/)||""===d.OLink&&["","o"])[1]+"-"}();f.fn.triggerLayerEvent=function(d,c){var a,b,g;for(b=0;b<this.length;b+=1)a=f(this[b]),g=E(this[b]),(d=a.getLayer(d))&&O(a,g,d,c);return this};f.fn.drawLayer=function(d){var c,a,b;for(c=0;c<this.length;c+=1)a=f(this[c]),H(this[c]),(b=a.getLayer(d))&&b.visible&&b._method&&(b._next=h,b._method.call(a,b));return this};f.fn.drawLayers=function(d){var c,
a,b=X({},d),g,e,l,I,A,t,$;b.index||(b.index=0);for(c=0;c<this.length;c+=1)if(d=f(this[c]),a=H(this[c])){I=E(this[c]);b.clear!==w&&d.clearCanvas();a=I.layers;for(l=b.index;l<a.length;l+=1)if(g=a[l],g.index=l,b.resetFire&&(g._fired=w),A=d,t=g,e=l+1,t&&t.visible&&t._method&&(t._next=e?e:h,t._method.call(A,t)),g._masks=I.transforms.masks.slice(0),g._method===f.fn.drawImage&&g.visible){$=!0;break}if($)break;g=I;var J=e=t=A=void 0;A=h;for(t=g.intersecting.length-1;0<=t;t-=1)if(A=g.intersecting[t],A._masks){for(J=
A._masks.length-1;0<=J;J-=1)if(e=A._masks[J],!e.intersects){A.intersects=w;break}if(A.intersects)break}g=A;A=I.event;t=A.type;if(I.drag.layer){e=d;var J=I,D=t,F=void 0,p=void 0,y=void 0,s=y=void 0,x=void 0,y=F=F=y=void 0,y=J.drag,s=(p=y.layer)&&p.dragGroups||[],F=J.layers;if("mousemove"===D||"touchmove"===D){if(y.dragging||(y.dragging=n,p.dragging=n,p.bringToFront&&(F.splice(p.index,1),p.index=F.push(p)),p._startX=p.x,p._startY=p.y,p._endX=p._eventX,p._endY=p._eventY,O(e,J,p,"dragstart")),y.dragging)for(F=
p._eventX-(p._endX-p._startX),y=p._eventY-(p._endY-p._startY),p.dx=F-p.x,p.dy=y-p.y,p.x=F,p.y=y,O(e,J,p,"drag"),F=0;F<s.length;F+=1)if(y=s[F],x=J.layer.groups[y],p.groups&&x)for(y=0;y<x.length;y+=1)x[y]!==p&&(x[y].x+=p.dx,x[y].y+=p.dy)}else if("mouseup"===D||"touchend"===D)y.dragging&&(p.dragging=w,y.dragging=w,O(e,J,p,"dragstop")),J.drag={}}e=I.lastIntersected;e===h||g===e||!e._hovered||e._fired||I.drag.dragging||(I.lastIntersected=h,e._fired=n,e._hovered=w,O(d,I,e,"mouseout"),d.css({cursor:I.cursor}));
g&&(g[t]||Z.mouseEvents[t]&&(t=Z.mouseEvents[t]),g._event&&g.intersects&&(I.lastIntersected=g,!(g.mouseover||g.mouseout||g.cursors)||I.drag.dragging||g._hovered||g._fired||(g._fired=n,g._hovered=n,O(d,I,g,"mouseover")),g._fired||(g._fired=n,A.type=h,O(d,I,g,t)),!g.draggable||g.disableEvents||"mousedown"!==t&&"touchstart"!==t||(I.drag.layer=g)));g!==h||I.drag.dragging||d.css({cursor:I.cursor});l===a.length&&(I.intersecting.length=0,I.transforms=la(oa),I.savedTransforms.length=0)}return this};f.fn.addLayer=
function(d){var c,a;for(c=0;c<this.length;c+=1)if(a=H(this[c]))a=new K(d),a.layer=n,N(this[c],a,d);return this};W.props=["width","height","opacity","lineHeight"];W.propsObj={};f.fn.animateLayer=function(){function d(a,b,c){return function(){var d,g;for(g=0;g<W.props.length;g+=1)d=W.props[g],c[d]=c["_"+d];for(var l in c)c.hasOwnProperty(l)&&-1!==l.indexOf(".")&&delete c[l];b.animating&&b.animated!==c||a.drawLayers();c._animating=w;b.animating=w;b.animated=h;e[4]&&e[4].call(a[0],c);O(a,b,c,"animateend")}}
function c(a,b,c){return function(d,g){var l,f,h=!1;"_"===g.prop[0]&&(h=!0,g.prop=g.prop.replace("_",""),c[g.prop]=c["_"+g.prop]);-1!==g.prop.indexOf(".")&&(l=g.prop.split("."),f=l[0],l=l[1],c[f]&&(c[f][l]=g.now));c._pos!==g.pos&&(c._pos=g.pos,c._animating||b.animating||(c._animating=n,b.animating=n,b.animated=c),b.animating&&b.animated!==c||a.drawLayers());e[5]&&e[5].call(a[0],d,g,c);O(a,b,c,"animate",g);h&&(g.prop="_"+g.prop)}}var a,b,g,e=ua.call(arguments,0),l,I;"object"===ba(e[2])?(e.splice(2,
0,e[2].duration||h),e.splice(3,0,e[3].easing||h),e.splice(4,0,e[4].complete||h),e.splice(5,0,e[5].step||h)):(e[2]===k?(e.splice(2,0,h),e.splice(3,0,h),e.splice(4,0,h)):ea(e[2])&&(e.splice(2,0,h),e.splice(3,0,h)),e[3]===k?(e[3]=h,e.splice(4,0,h)):ea(e[3])&&e.splice(3,0,h));for(b=0;b<this.length;b+=1)if(a=f(this[b]),g=H(this[b]))g=E(this[b]),(l=a.getLayer(e[0]))&&l._method!==f.fn.draw&&(I=X({},e[1]),I=Va(this[b],l,I),Ia(I,n),Ia(l),l.style=W.propsObj,f(l).animate(I,{duration:e[2],easing:f.easing[e[3]]?
e[3]:h,complete:d(a,g,l),step:c(a,g,l)}),O(a,g,l,"animatestart"));return this};f.fn.animateLayerGroup=function(d){var c,a,b=ua.call(arguments,0),g,e;for(a=0;a<this.length;a+=1)if(c=f(this[a]),g=c.getLayerGroup(d))for(e=0;e<g.length;e+=1)b[0]=g[e],c.animateLayer.apply(c,b);return this};f.fn.delayLayer=function(d,c){var a,b,g,e;c=c||0;for(b=0;b<this.length;b+=1)if(a=f(this[b]),g=E(this[b]),e=a.getLayer(d))f(e).delay(c),O(a,g,e,"delay");return this};f.fn.delayLayerGroup=function(d,c){var a,b,g,e,l;c=
c||0;for(b=0;b<this.length;b+=1)if(a=f(this[b]),g=a.getLayerGroup(d))for(l=0;l<g.length;l+=1)e=g[l],a.delayLayer(e,c);return this};f.fn.stopLayer=function(d,c){var a,b,g,e;for(b=0;b<this.length;b+=1)if(a=f(this[b]),g=E(this[b]),e=a.getLayer(d))f(e).stop(c),O(a,g,e,"stop");return this};f.fn.stopLayerGroup=function(d,c){var a,b,g,e,l;for(b=0;b<this.length;b+=1)if(a=f(this[b]),g=a.getLayerGroup(d))for(l=0;l<g.length;l+=1)e=g[l],a.stopLayer(e,c);return this};(function(d){var c;for(c=0;c<d.length;c+=1)f.fx.step[d[c]]=
Wa})("color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor fillStyle outlineColor strokeStyle shadowColor".split(" "));Z.touchEvents={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};Z.mouseEvents={touchstart:"mousedown",touchend:"mouseup",touchmove:"mousemove"};(function(d){var c;for(c=0;c<d.length;c+=1)Ya(d[c])})("click dblclick mousedown mouseup mousemove mouseover mouseout touchstart touchmove touchend".split(" "));f.event.fix=function(d){var c,
a;d=ab.call(f.event,d);if(c=d.originalEvent)if(a=c.changedTouches,d.pageX!==k&&d.offsetX===k){if(c=f(d.currentTarget).offset())d.offsetX=d.pageX-c.left,d.offsetY=d.pageY-c.top}else a&&(c=f(d.currentTarget).offset())&&(d.offsetX=a[0].pageX-c.left,d.offsetY=a[0].pageY-c.top);return d};Z.drawings={arc:"drawArc",bezier:"drawBezier",ellipse:"drawEllipse","function":"draw",image:"drawImage",line:"drawLine",path:"drawPath",polygon:"drawPolygon",slice:"drawSlice",quadratic:"drawQuadratic",rectangle:"drawRect",
text:"drawText",vector:"drawVector",save:"saveCanvas",restore:"restoreCanvas",rotate:"rotateCanvas",scale:"scaleCanvas",translate:"translateCanvas"};f.fn.draw=function c(a){var b,g,e=new K(a);if(Z.drawings[e.type])this[Z.drawings[e.type]](a);else for(b=0;b<this.length;b+=1)if(f(this[b]),g=H(this[b]))e=new K(a),N(this[b],e,a,c),e.visible&&e.fn&&e.fn.call(this[b],g,e);return this};f.fn.clearCanvas=function a(b){var g,e,l=new K(b);for(g=0;g<this.length;g+=1)if(e=H(this[g]))l.width===h||l.height===h?
(e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this[g].width,this[g].height),e.restore()):(N(this[g],l,b,a),R(this[g],e,l,l.width,l.height),e.clearRect(l.x-l.width/2,l.y-l.height/2,l.width,l.height),l._transformed&&e.restore());return this};f.fn.saveCanvas=function b(g){var e,l,f,h,t;for(e=0;e<this.length;e+=1)if(l=H(this[e]))for(h=E(this[e]),f=new K(g),N(this[e],f,g,b),t=0;t<f.count;t+=1)ga(l,h);return this};f.fn.restoreCanvas=function g(e){var l,f,h,t,k;for(l=0;l<this.length;l+=1)if(f=H(this[l]))for(t=
E(this[l]),h=new K(e),N(this[l],h,e,g),k=0;k<h.count;k+=1){var J=f,D=t;0===D.savedTransforms.length?D.transforms=la(oa):(J.restore(),D.transforms=D.savedTransforms.pop())}return this};f.fn.rotateCanvas=function e(l){var f,h,t,k;for(f=0;f<this.length;f+=1)if(h=H(this[f]))k=E(this[f]),t=new K(l),N(this[f],t,l,e),t.autosave&&ga(h,k),Ca(h,t,k.transforms);return this};f.fn.scaleCanvas=function l(f){var h,t,k,J;for(h=0;h<this.length;h+=1)if(t=H(this[h]))J=E(this[h]),k=new K(f),N(this[h],k,f,l),k.autosave&&
ga(t,J),Da(t,k,J.transforms);return this};f.fn.translateCanvas=function I(f){var h,k,J,D;for(h=0;h<this.length;h+=1)if(k=H(this[h]))D=E(this[h]),J=new K(f),N(this[h],J,f,I),J.autosave&&ga(k,D),Ea(k,J,D.transforms);return this};f.fn.drawRect=function A(f){var h,k,D,F,p,y,s,x,M;for(h=0;h<this.length;h+=1)if(k=H(this[h]))D=new K(f),N(this[h],D,f,A),D.visible&&(S(this[h],k,D),R(this[h],k,D,D.width,D.height),k.beginPath(),F=D.x-D.width/2,p=D.y-D.height/2,x=$a(D.cornerRadius),D.width&&D.height&&(x?(y=D.x+
D.width/2,s=D.y+D.height/2,0>D.width&&(M=F,F=y,y=M),0>D.height&&(M=p,p=s,s=M),0>y-F-2*x&&(x=(y-F)/2),0>s-p-2*x&&(x=(s-p)/2),k.moveTo(F+x,p),k.lineTo(y-x,p),k.arc(y-x,p+x,x,3*C/2,2*C,w),k.lineTo(y,s-x),k.arc(y-x,s-x,x,0,C/2,w),k.lineTo(F+x,s),k.arc(F+x,s-x,x,C/2,C,w),k.lineTo(F,p+x),k.arc(F+x,p+x,x,C,3*C/2,w),D.closed=n):k.rect(F,p,D.width,D.height)),T(this[h],k,D),Y(this[h],k,D));return this};f.fn.drawArc=function t(f){var h,k,F;for(h=0;h<this.length;h+=1)if(k=H(this[h]))F=new K(f),N(this[h],F,f,
t),F.visible&&(S(this[h],k,F),R(this[h],k,F,2*F.radius),k.beginPath(),La(this[h],k,F,F),T(this[h],k,F),Y(this[h],k,F));return this};f.fn.drawEllipse=function $(f){var h,k,p,y,s;for(h=0;h<this.length;h+=1)if(k=H(this[h]))p=new K(f),N(this[h],p,f,$),p.visible&&(S(this[h],k,p),R(this[h],k,p,p.width,p.height),y=4/3*p.width,s=p.height,k.beginPath(),k.moveTo(p.x,p.y-s/2),k.bezierCurveTo(p.x-y/2,p.y-s/2,p.x-y/2,p.y+s/2,p.x,p.y+s/2),k.bezierCurveTo(p.x+y/2,p.y+s/2,p.x+y/2,p.y-s/2,p.x,p.y-s/2),T(this[h],k,
p),p.closed=n,Y(this[h],k,p));return this};f.fn.drawPolygon=function J(f){var h,p,k,s,x,M,Q,z,u,m;for(h=0;h<this.length;h+=1)if(p=H(this[h]))if(k=new K(f),N(this[h],k,f,J),k.visible){S(this[h],p,k);R(this[h],p,k,2*k.radius);x=2*C/k.sides;M=x/2;s=M+C/2;Q=k.radius*P(M);p.beginPath();for(m=0;m<k.sides;m+=1)z=k.x+k.radius*P(s),u=k.y+k.radius*U(s),p.lineTo(z,u),k.concavity&&(z=k.x+(Q+-Q*k.concavity)*P(s+M),u=k.y+(Q+-Q*k.concavity)*U(s+M),p.lineTo(z,u)),s+=x;T(this[h],p,k);k.closed=n;Y(this[h],p,k)}return this};
f.fn.drawSlice=function D(h){var k,y,s,x,M;for(k=0;k<this.length;k+=1)if(f(this[k]),y=H(this[k]))s=new K(h),N(this[k],s,h,D),s.visible&&(S(this[k],y,s),R(this[k],y,s,2*s.radius),s.start*=s._toRad,s.end*=s._toRad,s.start-=C/2,s.end-=C/2,s.start=Ka(s.start),s.end=Ka(s.end),s.end<s.start&&(s.end+=2*C),x=(s.start+s.end)/2,M=s.radius*s.spread*P(x),x=s.radius*s.spread*U(x),s.x+=M,s.y+=x,y.beginPath(),y.arc(s.x,s.y,s.radius,s.start,s.end,s.ccw),y.lineTo(s.x,s.y),T(this[k],y,s),s.closed=n,Y(this[k],y,s));
return this};f.fn.drawLine=function F(h){var f,k,x;for(f=0;f<this.length;f+=1)if(k=H(this[f]))x=new K(h),N(this[f],x,h,F),x.visible&&(S(this[f],k,x),R(this[f],k,x),k.beginPath(),Na(this[f],k,x,x),T(this[f],k,x),Y(this[f],k,x));return this};f.fn.drawQuadratic=function p(h){var f,k,M;for(f=0;f<this.length;f+=1)if(k=H(this[f]))M=new K(h),N(this[f],M,h,p),M.visible&&(S(this[f],k,M),R(this[f],k,M),k.beginPath(),Oa(this[f],k,M,M),T(this[f],k,M),Y(this[f],k,M));return this};f.fn.drawBezier=function y(f){var h,
k,Q;for(h=0;h<this.length;h+=1)if(k=H(this[h]))Q=new K(f),N(this[h],Q,f,y),Q.visible&&(S(this[h],k,Q),R(this[h],k,Q),k.beginPath(),Pa(this[h],k,Q,Q),T(this[h],k,Q),Y(this[h],k,Q));return this};f.fn.drawVector=function s(h){var f,k,z;for(f=0;f<this.length;f+=1)if(k=H(this[f]))z=new K(h),N(this[f],z,h,s),z.visible&&(S(this[f],k,z),R(this[f],k,z),k.beginPath(),Sa(this[f],k,z,z),T(this[f],k,z),Y(this[f],k,z));return this};f.fn.drawPath=function x(f){var h,z,u,m,v;for(h=0;h<this.length;h+=1)if(z=H(this[h]))if(u=
new K(f),N(this[h],u,f,x),u.visible){S(this[h],z,u);R(this[h],z,u);z.beginPath();for(m=1;n;)if(v=u["p"+m],v!==k)v=new K(v),"line"===v.type?Na(this[h],z,u,v):"quadratic"===v.type?Oa(this[h],z,u,v):"bezier"===v.type?Pa(this[h],z,u,v):"vector"===v.type?Sa(this[h],z,u,v):"arc"===v.type&&La(this[h],z,u,v),m+=1;else break;T(this[h],z,u);Y(this[h],z,u)}return this};f.fn.drawText=function M(k){var z,u,m,v,V,r,B,n,G,w;for(z=0;z<this.length;z+=1)if(f(this[z]),u=H(this[z]))if(m=new K(k),v=N(this[z],m,k,M),m.visible){S(this[z],
u,m);u.textBaseline=m.baseline;u.textAlign=m.align;sa(this[z],u,m);V=m.maxWidth!==h?Ta(u,m):m.text.toString().split("\n");ta(this[z],u,m,V);v&&(v.width=m.width,v.height=m.height);R(this[z],u,m,m.width,m.height);B=m.x;"left"===m.align?m.respectAlign?m.x+=m.width/2:B-=m.width/2:"right"===m.align&&(m.respectAlign?m.x-=m.width/2:B+=m.width/2);if(m.radius)for(B=fa(m.fontSize),m.letterSpacing===h&&(m.letterSpacing=B/500),r=0;r<V.length;r+=1){u.save();u.translate(m.x,m.y);v=V[r];n=v.length;u.rotate(-(C*
m.letterSpacing*(n-1))/2);for(w=0;w<n;w+=1)G=v[w],0!==w&&u.rotate(C*m.letterSpacing),u.save(),u.translate(0,-m.radius),u.fillText(G,0,0),u.restore();m.radius-=B;m.letterSpacing+=B/(1E3*C);u.restore()}else for(r=0;r<V.length;r+=1)v=V[r],n=m.y+r*m.height/V.length-(V.length-1)*m.height/V.length/2,u.shadowColor=m.shadowColor,u.fillText(v,B,n),"transparent"!==m.fillStyle&&(u.shadowColor="transparent"),u.strokeText(v,B,n);n=0;"top"===m.baseline?n+=m.height/2:"bottom"===m.baseline&&(n-=m.height/2);m._event&&
(u.beginPath(),u.rect(m.x-m.width/2,m.y-m.height/2+n,m.width,m.height),T(this[z],u,m),u.closePath());m._transformed&&u.restore()}ca.propCache=m;return this};f.fn.measureText=function(h){var f,k;f=this.getLayer(h);if(!f||f&&!f._layer)f=new K(h);if(h=H(this[0]))sa(this[0],h,f),k=Ta(h,f),ta(this[0],h,f,k);return f};f.fn.drawImage=function Q(z){function u(k,m,u,q,r){return function(){var v=f(k);S(k,m,q);q.width===h&&q.sWidth===h&&(q.width=q.sWidth=G.width);q.height===h&&q.sHeight===h&&(q.height=q.sHeight=
G.height);r&&(r.width=q.width,r.height=q.height);q.sWidth!==h&&q.sHeight!==h&&q.sx!==h&&q.sy!==h?(q.width===h&&(q.width=q.sWidth),q.height===h&&(q.height=q.sHeight),q.cropFromCenter||(q.sx+=q.sWidth/2,q.sy+=q.sHeight/2),0>q.sy-q.sHeight/2&&(q.sy=q.sHeight/2),q.sy+q.sHeight/2>G.height&&(q.sy=G.height-q.sHeight/2),0>q.sx-q.sWidth/2&&(q.sx=q.sWidth/2),q.sx+q.sWidth/2>G.width&&(q.sx=G.width-q.sWidth/2),R(k,m,q,q.width,q.height),m.drawImage(G,q.sx-q.sWidth/2,q.sy-q.sHeight/2,q.sWidth,q.sHeight,q.x-q.width/
2,q.y-q.height/2,q.width,q.height)):(R(k,m,q,q.width,q.height),m.drawImage(G,q.x-q.width/2,q.y-q.height/2,q.width,q.height));m.beginPath();m.rect(q.x-q.width/2,q.y-q.height/2,q.width,q.height);T(k,m,q);m.closePath();q._transformed&&m.restore();Ba(m,u,q);q.layer?O(v,u,r,"load"):q.load&&q.load.call(v[0],r);q.layer&&(r._masks=u.transforms.masks.slice(0),q._next&&v.drawLayers({clear:w,resetFire:n,index:q._next}))}}var m,v,V,r,B,C,G,va,L,P=ca.imageCache;for(v=0;v<this.length;v+=1)if(m=this[v],V=H(this[v]))r=
E(this[v]),B=new K(z),C=N(this[v],B,z,Q),B.visible&&(L=B.source,va=L.getContext,L.src||va?G=L:L&&(P[L]!==k?G=P[L]:(G=new xa,G.crossOrigin=B.crossOrigin,G.src=L,P[L]=G)),G&&(G.complete||va?u(m,V,r,B,C)():(G.onload=u(m,V,r,B,C),G.src=G.src)));return this};f.fn.createPattern=function(k){function z(){r=m.createPattern(n,v.repeat);v.load&&v.load.call(u[0],r)}var u=this,m,v,n,r,B;(m=H(u[0]))?(v=new K(k),B=v.source,ea(B)?(n=f("<canvas />")[0],n.width=v.width,n.height=v.height,k=H(n),B.call(n,k),z()):(k=
B.getContext,B.src||k?n=B:(n=new xa,n.crossOrigin=v.crossOrigin,n.src=B),n.complete||k?z():(n.onload=z(),n.src=n.src))):r=h;return r};f.fn.createGradient=function(f){var n,u=[],m,v,w,r,B,C,G;f=new K(f);if(n=H(this[0])){f.x1=f.x1||0;f.y1=f.y1||0;f.x2=f.x2||0;f.y2=f.y2||0;n=f.r1!==h&&f.r2!==h?n.createRadialGradient(f.x1,f.y1,f.r1,f.x2,f.y2,f.r2):n.createLinearGradient(f.x1,f.y1,f.x2,f.y2);for(r=1;f["c"+r]!==k;r+=1)f["s"+r]!==k?u.push(f["s"+r]):u.push(h);m=u.length;u[0]===h&&(u[0]=0);u[m-1]===h&&(u[m-
1]=1);for(r=0;r<m;r+=1){if(u[r]!==h){C=1;G=0;v=u[r];for(B=r+1;B<m;B+=1)if(u[B]!==h){w=u[B];break}else C+=1;v>w&&(u[B]=u[r])}else u[r]===h&&(G+=1,u[r]=v+(w-v)/C*G);n.addColorStop(u[r],f["c"+(r+1)])}}else n=h;return n};f.fn.setPixels=function z(f){var k,n,w,r,B,C,G,E,L;for(n=0;n<this.length;n+=1)if(k=this[n],w=H(k)){r=new K(f);N(k,r,f,z);R(this[n],w,r,r.width,r.height);if(r.width===h||r.height===h)r.width=k.width,r.height=k.height,r.x=r.width/2,r.y=r.height/2;if(0!==r.width&&0!==r.height){C=w.getImageData(r.x-
r.width/2,r.y-r.height/2,r.width,r.height);G=C.data;L=G.length;if(r.each)for(E=0;E<L;E+=4)B={r:G[E],g:G[E+1],b:G[E+2],a:G[E+3]},r.each.call(k,B,r),G[E]=B.r,G[E+1]=B.g,G[E+2]=B.b,G[E+3]=B.a;w.putImageData(C,r.x-r.width/2,r.y-r.height/2);w.restore()}}return this};f.fn.getCanvasImage=function(f,n){var m,v=h;0!==this.length&&(m=this[0],m.toDataURL&&(n===k&&(n=1),v=m.toDataURL("image/"+f,n)));return v};f.fn.detectPixelRatio=function(h){var k,m,v,w,r,B,C;for(m=0;m<this.length;m+=1)k=this[m],f(this[m]),
v=H(k),C=E(this[m]),C.scaled||(w=window.devicePixelRatio||1,r=v.webkitBackingStorePixelRatio||v.mozBackingStorePixelRatio||v.msBackingStorePixelRatio||v.oBackingStorePixelRatio||v.backingStorePixelRatio||1,w/=r,1!==w&&(r=k.width,B=k.height,k.width=r*w,k.height=B*w,k.style.width=r+"px",k.style.height=B+"px",v.scale(w,w)),C.pixelRatio=w,C.scaled=n,h&&h.call(k,w));return this};L.clearCache=function(){for(var f in ca)ca.hasOwnProperty(f)&&(ca[f]={})};f.support.canvas=f("<canvas />")[0].getContext!==k;
X(L,{defaults:ma,prefs:aa,setGlobalProps:S,transformShape:R,detectEvents:T,closePath:Y,setCanvasFont:sa,measureText:ta});f.jCanvas=L})(jQuery,document,Image,Array,Math,parseFloat,console,!0,!1,null);
